---
spec: substrate-cloning
basePath: specs/substrate-cloning
phase: planning
task: 0/7
updated: 2026-02-19
---

# Progress: substrate-cloning

## Original Goal

Convert extracted UI structures into native PixelRTS geometric entities that run without VMs.

## Reference Documents

- Implementation Plan v2: `docs/plans/2026-02-19-substrate-cloning-implementation-v2.md`
- Team Definition: `apps/openspec/openspec/teams/substrate-cloning-team.yaml`

## Completed Tasks

1. ✅ Research phase - discovered existing UITransmuter
2. ✅ Planning phase - 7 tasks, 14 tests defined
3. ✅ Task 1: UITransmuter Wrapper - Created wrapper importing from conductor track

## Current Task

Task 2: Create SubstrateBrush for Binary Painting

## Plan Summary

| Task | Component | Tests |
|------|-----------|-------|
| 1 | UITransmuter Wrapper | 2 |
| 2 | SubstrateBrush | 5 |
| 3 | CloneOrchestrator | 4 |
| 4 | LiveTileService RPC | 1 |
| 5 | Frontend Clone Button | - |
| 6 | E2E Integration | 2 |
| 7 | Documentation | - |

## Learnings

- ExtractionBridge already operational (verified)
- PixelRTS v2 encoder available at `systems/pixel_compiler/pixelrts_v2_core.py`
- WGSL template exists at `conductor/tracks/shotcut-on-the-map/timeline_template.wgsl.j2`
- **UITransmuter already exists** at `conductor/tracks/shotcut-on-the-map/ui_transmuter.py` (307 lines)
- UITransmuter implements SDF functions: sdBox, sdRoundedBox, sdLine
- Jinja2 v3.1.6 installed; numpy v1.26.4 installed; PIL available
- HilbertCurve class in pixelrts_v2_core.py provides d2xy/xy2d methods
- LiveTileService.handle_rpc() needs `clone_tile` method added
- AgentController needs Clone button in `.live-controls` div
- Test pattern: pytest with pytest-asyncio, fixtures in `systems/evolution_daemon/tests/`
- **Task 1 complete**: Wrapper uses sys.path modification to import from conductor track

## Blockers

- None currently

## Next

Complete research phase, then proceed to requirements generation.
