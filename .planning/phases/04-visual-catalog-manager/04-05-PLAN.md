---
phase: 04-visual-catalog-manager
plan: 05
type: execute
wave: 4
depends_on:
  - 04-04
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Human verifies catalog displays .rts.png files as thumbnails"
    - "Human verifies one-click boot works from catalog UI"
    - "Human verifies drag-and-drop reorganization persists"
    - "Human verifies catalog displays OS metadata"
  artifacts:
    - path: "systems/pixel_compiler/catalog/"
      provides: "Complete catalog implementation"
    - path: ".planning/phases/04-visual-catalog-manager/04-VERIFICATION.md"
      provides: "Verification results"
  key_links:
    - from: "catalog UI"
      to: "browser"
      via: "visual verification"
      pattern: "http://localhost:8000"
---

<objective>
Human verification of the complete Visual Catalog Manager implementation.

Purpose: Ensure the catalog works as expected from a user perspective - visual gallery, one-click boot, drag-and-drop, metadata display.
Output: 04-VERIFICATION.md with verification results
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@.planning/phases/04-visual-catalog-manager/04-RESEARCH.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Visual Catalog Manager implementation:
- CatalogScanner discovers .rts.png files
- ThumbnailCache generates 256x256 thumbnails
- SpatialLayoutManager persists positions
- CatalogServer FastAPI with REST endpoints
- HTML gallery with drag-and-drop and boot buttons
- CLI command `pixelrts catalog`
- Unit tests for all components
</what-built>
  <how-to-verify>
## Verification Steps

1. **Start the catalog server:**
   ```bash
   cd /home/jericho/zion/projects/geometry_os/geometry_os
   pixelrts catalog --paths .
   ```

2. **Open browser to http://localhost:8000**

3. **Verify thumbnail gallery:**
   - [ ] Catalog displays all .rts.png files in the current directory
   - [ ] Each entry shows a thumbnail image
   - [ ] Each entry shows OS metadata (kernel version, distro if available)
   - [ ] Grid layout is visually clean

4. **Verify one-click boot:**
   - [ ] Click "Boot" button on an entry
   - [ ] Alert shows boot success with PID
   - [ ] QEMU process starts (check with `ps aux | grep qemu`)

5. **Verify drag-and-drop:**
   - [ ] Drag one entry onto another entry
   - [ ] Entries swap positions
   - [ ] Refresh the page
   - [ ] Positions persist after refresh

6. **Run unit tests:**
   ```bash
   python3 -m pytest systems/pixel_compiler/tests/test_catalog.py -v
   ```
   - [ ] All tests pass

7. **Verify CLI options:**
   ```bash
   pixelrts catalog --help
   pixelrts catalog --port 9000 --no-browser
   ```
   - [ ] --help shows all options
   - [ ] --port changes server port
   - [ ] --no-browser prevents browser auto-open
</how-to-verify>
  <resume-signal>Type "approved" if all verification steps pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
- [ ] Catalog displays .rts.png files as visual thumbnails
- [ ] One-click boot works from catalog UI
- [ ] Drag-and-drop reorganization works
- [ ] Positions persist after page refresh
- [ ] OS metadata (kernel, distro) displayed with thumbnails
- [ ] All unit tests pass
</verification>

<success_criteria>
- User can view all discovered .rts.png files as visual thumbnails in gallery view
- User can boot any OS from catalog with single click
- Catalog displays OS metadata (kernel version, distro) with each thumbnail
- Catalog supports spatial arrangement with drag-to-reorganize
</success_criteria>

<output>
After completion, create `.planning/phases/04-visual-catalog-manager/04-VERIFICATION.md`
</output>
